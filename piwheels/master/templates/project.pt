<div metal:use-macro="layout">
  <div metal:fill-slot="title" tal:omit-tag="1">${package}</div>
  <div metal:fill-slot="content">
    <div class="row">
      <div class="small-12 medium-6 columns">
        <h2>${package}</h2>
      </div>

      <div class="small-12 medium-6 columns">
        <table class="stats">
          <tr><th>PyPI</th><td><a href="https://pypi.org/project/${package}">pypi.org/project/${package}</a></td></tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Install</h3>
        <pre tal:condition="dependencies.get('apt')">sudo apt install ${' '.join(dependencies['apt'])}
sudo pip3 install ${package}</pre>
        <pre tal:condition="not dependencies.get('apt')">sudo pip3 install ${package}</pre>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Versions (${len(versions)})</h3>
        <table tal:condition="versions">
          <tr><th>Version</th><th>Successful builds</th><th>Failed builds</th><th>Skip</th></tr>
          <tr tal:repeat="row versions">
            <td>${row.version}</td>
            <td>${row.builds_succeeded}</td>
            <td>${row.builds_failed}</td>
            <td>${"âœ–" if row.skipped else ""}</td>
          </tr>
        </table>
        <table tal:condition="not:versions" class="empty">
          <tr><th>No versions</th></tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Files (${len(files)})</h3>
        <table tal:condition="files">
          <tr><th>Filename</th><th>ABI</th><th>Size</th></tr>
          <tr tal:repeat="row files">
            <td><a href="${url(row.filename, row.filehash)}">${row.filename}</a></td>
            <td>${row.abi_tag}</td>
            <td>${format_size(row.filesize)}</td>
          </tr>
        </table>
        <table tal:condition="not:files" class="empty">
          <tr><th>No files</th></tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Issues with this package?</h3>
        <h4>Package/version missing?</h4>
        <ul>
          <li>Check if there's an <a href="https://github.com/bennuttall/piwheels/issues?utf8=%E2%9C%93&q=is%3Aissue+missing+package+${package}">issue</a> already</li>
          <li>If not, open a <a href="https://github.com/bennuttall/piwheels/issues/new?template=missing-package.md&title=Missing package: ${package}">"missing package" issue</a></li>
        </ul>
        <h4>Package broken?</h4>
        <ul>
          <li>Check if there's an <a href="https://github.com/bennuttall/piwheels/issues?utf8=%E2%9C%93&q=is%3Aissue+broken+package+${package}">issue</a> already</li>
          <li>If not, open a <a href="https://github.com/bennuttall/piwheels/issues/new?template=broken-package.md&title=Broken package: ${package}">"broken package" issue</a></li>
        </ul>
        <h4>Something else</h4>
        <ul>
          <li>Check if there's an <a href="https://github.com/bennuttall/piwheels/issues?utf8=%E2%9C%93&q=is%3Aissue+${package}">issue</a> already</li>
          <li>If not, open a <a href="https://github.com/bennuttall/piwheels/issues/new">new issue</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
