<div metal:use-macro="layout">
  <div metal:fill-slot="title" tal:omit-tag="1">${package}</div>
  <div metal:fill-slot="scripts" tal:omit-tag="1">
    <script src="/project.js"></script>
  </div>
  <div metal:fill-slot="content">
    <script>
    window.onload = function() {
      showContents('${package}');
    };
    </script>

    <div class="row">
      <div class="small-12 medium-6 columns">
        <h2>${package}</h2>
      </div>

      <div class="small-12 medium-6 columns">
        <table class="stats">
          <tr>
            <th>PyPI page</th>
            <td><a href="https://pypi.org/project/${package}">pypi.org/project/${package}</a></td>
          </tr>
          <tr>
            <th>JSON</th>
            <td><a href="/project/${package}/json">piwheels.org/project/${package}/json</a></td>
          </tr>
          <tr>
            <th>Versions</th>
            <td id="num-versions">loading...</td>
          </tr>
          <tr>
            <th>Files</th>
            <td id="num-files">loading...</td>
          </tr>
          <tr>
            <th>Downloads (all time)</th>
            <td id="downloads-all">loading...</td>
          </tr>
          <tr>
            <th>Downloads (last 30 days)</th>
            <td id="downloads-30">loading...</td>
          </tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3 id="install-header">Install</h3>
        <pre id="install">sudo pip3 install ${package}</pre>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Versions</h3>
        <table id="versions">
          <tr><th>loading...</th></tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Files</h3>
        <table id="files">
          <tr><th>loading...</th></tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns">
        <h3>Issues with this package?</h3>
        <h4>Package/version missing?</h4>
        <ul>
          <li>Check if there's an <a href="https://github.com/piwheels/packages/issues?utf8=%E2%9C%93&q=is%3Aissue+missing+package+${package}">issue</a> already</li>
          <li>If not, open a <a href="https://github.com/piwheels/packages/issues/new?template=missing-package.md&title=Missing+package:+${package}">"missing package" issue</a></li>
        </ul>
        <h4>Package broken?</h4>
        <ul>
          <li>Check if there's an <a href="https://github.com/piwheels/packages/issues?utf8=%E2%9C%93&q=is%3Aissue+broken+package+${package}">issue</a> already</li>
          <li>If not, open a <a href="https://github.com/piwheels/packages/issues/new?template=broken-package.md&title=Broken+package:+${package}">"broken package" issue</a></li>
        </ul>
        <h4>Something else</h4>
        <ul>
          <li>Check if there's an <a href="https://github.com/piwheels/packages/issues?utf8=%E2%9C%93&q=is%3Aissue+${package}">issue</a> already</li>
          <li>If not, open a <a href="https://github.com/piwheels/packages/issues/new?template=package.md&title=${package}">new issue</a></li>
        </ul>

        <p class="small"><small>Page last updated: <span id="updated">loading...</span></small></p>
      </div>
    </div>
  </div>
</div>
